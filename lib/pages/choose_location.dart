import 'package:flutter/material.dart';
import 'package:covidstatistics/services/corona.dart';

class ChooseLocation extends StatefulWidget {
  @override
  _ChooseLocationState createState() => _ChooseLocationState();
}

class _ChooseLocationState extends State<ChooseLocation> {

  List<Corona> corona = [
    Corona(country: 'Syrian Arab Republic',
        url: 'Syrian%20Arab%20Republic',
        flag: 'assets/flags/sy.png'),
    Corona(country: 'Iraq',
        url: 'Iraq',
        flag: 'assets/flags/iq.png'),
    Corona(country: 'Egypt',
        url: 'Egypt',
        flag: 'assets/flags/eg.png'),
    Corona(country: 'Algeria',
        url: 'Algeria',
        flag: 'assets/flags/dz.png'),
    Corona(country: 'Bahrain',
        url: 'Bahrain',
        flag: 'assets/flags/bh.png'),
    Corona(country: 'Jordan',
        url: 'Jordan',
        flag: 'assets/flags/jo.png'),
    Corona(country: 'Kuwait',
        url: 'Kuwait',
        flag: 'assets/flags/kw.png'),
    Corona(country: 'Lebanon',
        url: 'Lebanon',
        flag: 'assets/flags/lb.png'),
    Corona(country: 'Libyan Arab Jamahiriya',
        url: 'Libyan%20Arab%20Jamahiriya',
        flag: 'assets/flags/ly.png'),
    Corona(country: 'Morocco',
        url: 'Morocco',
        flag: 'assets/flags/ma.png'),
    Corona(country: 'Oman',
        url: 'Oman',
        flag: 'assets/flags/om.png'),
    Corona(country: 'Palestine',
        url: 'Palestine',
        flag: 'assets/flags/ps.png'),
    Corona(country: 'Qatar',
        url: 'Qatar',
        flag: 'assets/flags/qa.png'),
    Corona(country: 'Saudi Arabia',
        url: 'Saudi%20Arabia',
        flag: 'assets/flags/sa.png'),
    Corona(country: 'South Sudan',
        url: 'South Sudan',
        flag: 'assets/flags/ss.png'),
    Corona(country: 'Sudan',
        url: 'Sudan',
        flag: 'assets/flags/sd.png'),
    Corona(country: 'Tunisia',
        url: 'Tunisia',
        flag: 'assets/flags/tn.png'),
    Corona(country: 'UAE',
        url: 'UAE',
        flag: 'assets/flags/ae.png'),
    Corona(country: 'Yemen',
        url: 'Yemen',
        flag: 'assets/flags/ye.png'),
    Corona(country: 'Afghanistan',
        url: 'Afghanistan',
        flag: 'assets/flags/af.png'),
    Corona(country: 'Albania',
        url: 'Albania',
        flag: 'assets/flags/al.png'),
    Corona(country: 'Andorra',
        url: 'Andorra ',
        flag: 'assets/flags/ad.png'),
    Corona(country: 'Angola',
        url: 'Angola',
        flag: 'assets/flags/ao.png'),
    Corona(country: 'Anguilla',
        url: 'Anguilla',
        flag: 'assets/flags/ai.png'),
    Corona(country: 'Argentina',
        url: 'Argentina',
        flag: 'assets/flags/ar.png'),
    Corona(country: 'Armenia',
        url: 'Armenia',
        flag: 'assets/flags/am.png'),
    Corona(country: 'Aruba',
        url: 'Aruba',
        flag: 'assets/flags/aw.png'),
    Corona(country: 'Australia',
        url: 'Australia',
        flag: 'assets/flags/au.png'),
    Corona(country: 'Austria',
        url: 'Austria',
        flag: 'assets/flags/at.png'),
    Corona(country: 'Azerbaijan',
        url: 'Azerbaijan',
        flag: 'assets/flags/az.png'),
    Corona(country: 'Bahamas',
        url: 'Bahamas',
        flag: 'assets/flags/bs.png'),
    Corona(country: 'Bangladesh',
        url: 'Bangladesh',
        flag: 'assets/flags/bd.png'),
    Corona(country: 'Barbados',
        url: 'Barbados',
        flag: 'assets/flags/bb.png'),
    Corona(country: 'Belarus',
        url: 'Belarus',
        flag: 'assets/flags/by.png'),
    Corona(country: 'Belgium',
        url: 'Belgium',
        flag: 'assets/flags/be.png'),
    Corona(country: 'Belize',
        url: 'Belize',
        flag: 'assets/flags/bz.png'),
    Corona(country: 'Benin',
        url: 'Benin',
        flag: 'assets/flags/bj.png'),
    Corona(country: 'Bermuda',
        url: 'Bermuda',
        flag: 'assets/flags/bm.png'),
    Corona(country: 'Bhutan',
        url: 'Bhutan',
        flag: 'assets/flags/bt.png'),
    Corona(country: 'Bolivia',
        url: 'Bolivia',
        flag: 'assets/flags/bo.png'),
    Corona(country: 'Bosnia',
        url: 'Bosnia',
        flag: 'assets/flags/ba.png'),
    Corona(country: 'Botswana',
        url: 'Botswana',
        flag: 'assets/flags/bw.png'),
    Corona(country: 'Brazil',
        url: 'Brazil',
        flag: 'assets/flags/br.png'),
    Corona(country: 'Brunei',
        url: 'Brunei',
        flag: 'assets/flags/bn.png'),
    Corona(country: 'Bulgaria',
        url: 'Bulgaria',
        flag: 'assets/flags/bg.png'),
    Corona(country: 'Burundi',
        url: 'Burundi',
        flag: 'assets/flags/bi.png'),
    Corona(country: 'Cambodia',
        url: 'Cambodia',
        flag: 'assets/flags/kh.png'),
    Corona(country: 'Cameroon',
        url: 'Cameroon',
        flag: 'assets/flags/cm.png'),
    Corona(country: 'Canada',
        url: 'Canada',
        flag: 'assets/flags/ca.png'),
    Corona(country: 'Chad',
        url: 'Chad',
        flag: 'assets/flags/td.png'),
    Corona(country: 'Chile',
        url: 'Chile',
        flag: 'assets/flags/cl.png'),
    Corona(country: 'China',
        url: 'China',
        flag: 'assets/flags/cn.png'),
    Corona(country: 'Colombia',
        url: 'Colombia',
        flag: 'assets/flags/co.png'),
    Corona(country: 'Congo',
        url: 'Congo',
        flag: 'assets/flags/cg.png'),
    Corona(country: 'Croatia',
        url: 'Croatia',
        flag: 'assets/flags/hr.png'),
    Corona(country: 'Curaçao',
        url: 'Curaçao',
        flag: 'assets/flags/cw.png'),
    Corona(country: 'Cyprus',
        url: 'Cyprus',
        flag: 'assets/flags/cy.png'),
    Corona(country: 'Czechia',
        url: 'Czechia',
        flag: 'assets/flags/cz.png'),
    Corona(country: 'Denmark',
        url: 'Denmark',
        flag: 'assets/flags/dk.png'),
    Corona(country: 'Djibouti',
        url: 'Djibouti',
        flag: 'assets/flags/dj.png'),
    Corona(country: 'Dominica',
        url: 'Dominica',
        flag: 'assets/flags/dm.png'),
    Corona(country: 'Ecuador',
        url: 'Ecuador',
        flag: 'assets/flags/ec.png'),
    Corona(country: 'Eritrea',
        url: 'Eritrea',
        flag: 'assets/flags/er.png'),
    Corona(country: 'Estonia',
        url: 'Estonia',
        flag: 'assets/flags/ee.png'),
    Corona(country: 'Ethiopia',
        url: 'Ethiopia',
        flag: 'assets/flags/et.png'),
    Corona(country: 'Finland',
        url: 'Finland',
        flag: 'assets/flags/fi.png'),
    Corona(country: 'France',
        url: 'France',
        flag: 'assets/flags/fr.png'),
    Corona(country: 'Gabon',
        url: 'Gabon',
        flag: 'assets/flags/ga.png'),
    Corona(country: 'Gambia',
        url: 'Gambia',
        flag: 'assets/flags/gm.png'),
    Corona(country: 'Georgia',
        url: 'Georgia',
        flag: 'assets/flags/ge.png'),
    Corona(country: 'Germany',
        url: 'Germany',
        flag: 'assets/flags/de.png'),
    Corona(country: 'Ghana',
        url: 'Ghana',
        flag: 'assets/flags/gh.png'),
    Corona(country: 'Gibraltar',
        url: 'Gibraltar',
        flag: 'assets/flags/gi.png'),
    Corona(country: 'Greece',
        url: 'Greece',
        flag: 'assets/flags/gr.png'),
    Corona(country: 'Greenland',
        url: 'Greenland',
        flag: 'assets/flags/gl.png'),
    Corona(country: 'Grenada',
        url: 'Grenada',
        flag: 'assets/flags/gd.png'),
    Corona(country: 'Guadeloupe',
        url: 'Guadeloupe',
        flag: 'assets/flags/gp.png'),
    Corona(country: 'Guatemala',
        url: 'Guatemala',
        flag: 'assets/flags/gt.png'),
    Corona(country: 'Guinea',
        url: 'Guinea',
        flag: 'assets/flags/gn.png'),
    Corona(country: 'Guyana',
        url: 'Guyana',
        flag: 'assets/flags/gy.png'),
    Corona(country: 'Haiti',
        url: 'Haiti',
        flag: 'assets/flags/ht.png'),
    Corona(country: 'Honduras',
        url: 'Honduras',
        flag: 'assets/flags/hn.png'),
    Corona(country: 'Hungary',
        url: 'Hungary',
        flag: 'assets/flags/hu.png'),
    Corona(country: 'Iceland',
        url: 'Iceland',
        flag: 'assets/flags/is.png'),
    Corona(country: 'India',
        url: 'India',
        flag: 'assets/flags/in.png'),
    Corona(country: 'Indonesia',
        url: 'Indonesia',
        flag: 'assets/flags/id.png'),
    Corona(country: 'Iran',
        url: 'Iran',
        flag: 'assets/flags/ir.png'),
    Corona(country: 'Ireland',
        url: 'Ireland',
        flag: 'assets/flags/ie.png'),
    Corona(country: 'Italy',
        url: 'Italy',
        flag: 'assets/flags/it.png'),
    Corona(country: 'Jamaica',
        url: 'Jamaica',
        flag: 'assets/flags/jm.png'),
    Corona(country: 'Japan',
        url: 'Japan',
        flag: 'assets/flags/jp.png'),
    Corona(country: 'Kazakhstan',
        url: 'Kazakhstan',
        flag: 'assets/flags/kz.png'),
    Corona(country: 'Kenya',
        url: 'Kenya',
        flag: 'assets/flags/ke.png'),
    Corona(country: 'Kyrgyzstan',
        url: 'Kyrgyzstan',
        flag: 'assets/flags/kg.png'),
    Corona(country: 'Latvia',
        url: 'Latvia',
        flag: 'assets/flags/lv.png'),
    Corona(country: 'Liberia',
        url: 'Liberia',
        flag: 'assets/flags/lr.png'),
    Corona(country: 'Liechtenstein',
        url: 'Liechtenstein',
        flag: 'assets/flags/li.png'),
    Corona(country: 'Lithuania',
        url: 'Lithuania',
        flag: 'assets/flags/lt.png'),
    Corona(country: 'Luxembourg',
        url: 'Luxembourg',
        flag: 'assets/flags/lu.png'),
    Corona(country: 'Macedonia',
        url: 'Macedonia',
        flag: 'assets/flags/mk.png'),
    Corona(country: 'Madagascar',
        url: 'Madagascar',
        flag: 'assets/flags/mg.png'),
    Corona(country: 'Malawi',
        url: 'Malawi',
        flag: 'assets/flags/mw.png'),
    Corona(country: 'Malaysia',
        url: 'Malaysia',
        flag: 'assets/flags/my.png'),
    Corona(country: 'Maldives',
        url: 'Maldives',
        flag: 'assets/flags/mv.png'),
    Corona(country: 'Mali',
        url: 'Mali',
        flag: 'assets/flags/ml.png'),
    Corona(country: 'Malta',
        url: 'Malta',
        flag: 'assets/flags/mt.png'),
    Corona(country: 'Martinique',
        url: 'Martinique',
        flag: 'assets/flags/mq.png'),
    Corona(country: 'Mauritania',
        url: 'Mauritania',
        flag: 'assets/flags/mr.png'),
    Corona(country: 'Mauritius',
        url: 'Mauritius',
        flag: 'assets/flags/mu.png'),
    Corona(country: 'Mayotte',
        url: 'Mayotte',
        flag: 'assets/flags/yt.png'),
    Corona(country: 'Mexico',
        url: 'Mexico',
        flag: 'assets/flags/mx.png'),
    Corona(country: 'Moldova',
        url: 'Moldova',
        flag: 'assets/flags/md.png'),
    Corona(country: 'Monaco',
        url: 'Monaco',
        flag: 'assets/flags/mc.png'),
    Corona(country: 'Montenegro',
        url: 'Montenegro',
        flag: 'assets/flags/me.png'),
    Corona(country: 'Mozambique',
        url: 'Mozambique',
        flag: 'assets/flags/mz.png'),
    Corona(country: 'Myanmar',
        url: 'Myanmar',
        flag: 'assets/flags/mm.png'),
    Corona(country: 'Namibia',
        url: 'Namibia',
        flag: 'assets/flags/na.png'),
    Corona(country: 'Nepal',
        url: 'Nepal',
        flag: 'assets/flags/np.png'),
    Corona(country: 'Netherlands',
        url: 'Netherlands',
        flag: 'assets/flags/nl.png'),
    Corona(country: 'Nicaragua',
        url: 'Nicaragua',
        flag: 'assets/flags/ni.png'),
    Corona(country: 'Nigeria',
        url: 'Nigeria',
        flag: 'assets/flags/ng.png'),
    Corona(country: 'Norway',
        url: 'Norway',
        flag: 'assets/flags/no.png'),
    Corona(country: 'Pakistan',
        url: 'Pakistan',
        flag: 'assets/flags/pk.png'),
    Corona(country: 'Panama',
        url: 'Panama',
        flag: 'assets/flags/pa.png'),
    Corona(country: 'Paraguay',
        url: 'Paraguay',
        flag: 'assets/flags/py.png'),
    Corona(country: 'Peru',
        url: 'Peru',
        flag: 'assets/flags/pe.png'),
    Corona(country: 'Philippines',
        url: 'Philippines',
        flag: 'assets/flags/ph.png'),
    Corona(country: 'Poland',
        url: 'Poland',
        flag: 'assets/flags/pl.png'),
    Corona(country: 'Portugal',
        url: 'Portugal',
        flag: 'assets/flags/pt.png'),
    Corona(country: 'Romania',
        url: 'Romania',
        flag: 'assets/flags/ro.png'),
    Corona(country: 'Russia',
        url: 'Russia',
        flag: 'assets/flags/ru.png'),
    Corona(country: 'Rwanda',
        url: 'Rwanda',
        flag: 'assets/flags/rw.png'),
    Corona(country: 'Réunion',
        url: 'Réunion',
        flag: 'assets/flags/re.png'),
    Corona(country: 'South Korea',
        url: 'S.%20Korea',
        flag: 'assets/flags/kr.png'),
    Corona(country: 'Senegal',
        url: 'Senegal',
        flag: 'assets/flags/sn.png'),
    Corona(country: 'Serbia',
        url: 'Serbia',
        flag: 'assets/flags/rs.png'),
    Corona(country: 'Seychelles',
        url: 'Seychelles',
        flag: 'assets/flags/sc.png'),
    Corona(country: 'Singapore',
        url: 'Singapore',
        flag: 'assets/flags/sg.png'),
    Corona(country: 'Slovakia',
        url: 'Slovakia',
        flag: 'assets/flags/sk.png'),
    Corona(country: 'Slovenia',
        url: 'Slovenia',
        flag: 'assets/flags/si.png'),
    Corona(country: 'Somalia',
        url: 'Somalia',
        flag: 'assets/flags/so.png'),
    Corona(country: 'South Africa',
        url: 'South%20Africa',
        flag: 'assets/flags/za.png'),
    Corona(country: 'Spain',
        url: 'Spain',
        flag: 'assets/flags/es.png'),
    Corona(country: 'Suriname',
        url: 'Suriname',
        flag: 'assets/flags/sr.png'),
    Corona(country: 'Swaziland',
        url: 'Swaziland',
        flag: 'assets/flags/sz.png'),
    Corona(country: 'Sweden',
        url: 'Sweden',
        flag: 'assets/flags/se.png'),
    Corona(country: 'Switzerland',
        url: 'Switzerland',
        flag: 'assets/flags/ch.png'),
    Corona(country: 'Thailand',
        url: 'Thailand',
        flag: 'assets/flags/th.png'),
    Corona(country: 'Togo',
        url: 'Togo',
        flag: 'assets/flags/tg.png'),
    Corona(country: 'Turkey',
        url: 'Turkey',
        flag: 'assets/flags/tr.png'),
    Corona(country: 'UK',
        url: 'UK',
        flag: 'assets/flags/gb.png'),
    Corona(country: 'USA',
        url: 'USA',
        flag: 'assets/flags/us.png'),
    Corona(country: 'Uganda',
        url: 'Uganda',
        flag: 'assets/flags/ug.png'),
    Corona(country: 'Ukraine',
        url: 'Ukraine',
        flag: 'assets/flags/ua.png'),
    Corona(country: 'Uruguay',
        url: 'Uruguay',
        flag: 'assets/flags/uy.png'),
    Corona(country: 'Uzbekistan',
        url: 'Uzbekistan',
        flag: 'assets/flags/uz.png'),
    Corona(country: 'Venezuela',
        url: 'Venezuela',
        flag: 'assets/flags/ve.png'),
    Corona(country: 'Vietnam',
        url: 'Vietnam',
        flag: 'assets/flags/vn.png'),
    Corona(country: 'Western Sahara',
        url: 'Western%20Sahara',
        flag: 'assets/flags/eh.png'),
    Corona(country: 'Zambia',
        url: 'Zambia',
        flag: 'assets/flags/zm.png'),
    Corona(country: 'Zimbabwe',
        url: 'Zimbabwe',
        flag: 'assets/flags/zw.png'),
  ];

  void setup(index) async {
    Corona instance = corona[index];
    await instance.getData();
    Navigator.pushNamed(context, '/info', arguments: {
      "country": instance.country,
      "cases": instance.cases,
      "active": instance.active,
      "recovered": instance.recovered,
      "deaths": instance.deaths,
      "todayCases": instance.todayCases,
      "todayDeaths": instance.todayDeaths,
      "critical": instance.critical,
      "flag": instance.flag,
    }
    );
  }

  @override
  void initState() {
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
        backgroundColor: Colors.deepPurple[500],
        appBar: AppBar(
          backgroundColor: Colors.deepPurple[500],
          title: Text('Choose Your Country'),
          centerTitle: true,
          elevation: 0,
        ),
        body: ListView.builder(
            itemCount: corona.length,
            itemBuilder: (context, index) {
              return Card(
                  child: ListTile(
                    onTap: () {
                      setup(index);
                    },
                    title: Text(corona[index].country,
                    style: TextStyle(
                      fontSize: 17,
                      fontWeight: FontWeight.bold,
                    ),
                    ),
                    leading: CircleAvatar(
                        radius:25,
                      backgroundImage: AssetImage("${corona[index].flag}"),
                      ),
                    )
                  );
            }
        )
    );
  }
}
